"use strict";(self["webpackChunkgamestoretour_front"]=self["webpackChunkgamestoretour_front"]||[]).push([[758],{2855:(e,t,l)=>{l.r(t),l.d(t,{default:()=>P});var a=l(9835),o=l(499),n=l(8910),s=l(4658),i=l(8379);l(2337);const d=(0,a._)("div",{class:"text-h6"},"Add New Cloudinary Image to Gallery",-1),u={class:"row"},c=(0,a._)("div",{class:"col-2"},"Image Name: ",-1),r={class:"col"},m={class:"row"},p=(0,a._)("div",{class:"col-2"},"Cloudinary ID: (v...)",-1),g={class:"col"},w={props:{image:Object},emits:["submit"],setup(e,{emit:t}){const l=e;let n=(0,o.iH)(!1);const s=()=>{t("submit",i.value)};let i=(0,o.iH)({...l.image});return console.log("formdata after assigning props is: ",i.value),(e,t)=>{const l=(0,a.up)("q-btn"),w=(0,a.up)("q-card-section"),v=(0,a.up)("q-input"),I=(0,a.up)("q-card-actions"),_=(0,a.up)("q-card"),D=(0,a.up)("q-dialog"),S=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(l,{label:"+ New Image",glossy:"","text-color":"white",color:"accent",onClick:t[0]||(t[0]=e=>(0,o.dq)(n)?n.value=!0:n=!0)}),(0,a.Wm)(D,{modelValue:(0,o.SU)(n),"onUpdate:modelValue":t[3]||(t[3]=e=>(0,o.dq)(n)?n.value=e:n=e),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(_,{style:{"min-width":"1000px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(w,null,{default:(0,a.w5)((()=>[d])),_:1}),(0,a.Wm)(w,{class:"q-pt-none"},{default:(0,a.w5)((()=>[(0,a._)("div",u,[c,(0,a._)("div",r,[(0,a.Wm)(v,{dense:"",modelValue:(0,o.SU)(i).name,"onUpdate:modelValue":t[1]||(t[1]=e=>(0,o.SU)(i).name=e)},null,8,["modelValue"])])]),(0,a._)("div",m,[p,(0,a._)("div",g,[(0,a.Wm)(v,{dense:"",modelValue:(0,o.SU)(i).cloudID,"onUpdate:modelValue":t[2]||(t[2]=e=>(0,o.SU)(i).cloudID=e)},null,8,["modelValue"])])])])),_:1}),(0,a.Wm)(I,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(l,{flat:"",label:"Cancel"},null,512),[[S]]),(0,a.wy)((0,a.Wm)(l,{flat:"",label:"Add Image",onClick:s},null,512),[[S]])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}}};var v=l(8879),I=l(2074),_=l(4458),D=l(3190),S=l(361),y=l(1821),f=l(2146),W=l(9984),b=l.n(W);const C=w,U=C;b()(w,"components",{QBtn:v.Z,QDialog:I.Z,QCard:_.Z,QCardSection:D.Z,QInput:S.Z,QCardActions:y.Z}),b()(w,"directives",{ClosePopup:f.Z});const Z={props:{storeID:String},emits:["updatedStore"],setup(e,{emit:t}){const l=e;let n=(0,o.iH)({name:"",cloudID:""});const i=async e=>{const a=await s.Z.createImage(e,l.storeID);t("updatedStore",a.data)};return(e,t)=>((0,a.wg)(),(0,a.j4)(U,{image:(0,o.SU)(n),onSubmit:i},null,8,["image"]))}},h=Z,q=h;var Q=l(6970);const k=(0,a._)("div",{class:"text-h6"},"Delete Image?",-1),V={props:{image:Object,storeID:String},emits:["updatedStore"],setup(e,{emit:t}){const l=e;let n=(0,o.iH)(!1),i=(0,o.iH)({...l.image});const d=async()=>{const e=await s.Z.deleteImage(l.image,l.storeID);t("updatedStore",e.data)};return(e,t)=>{const l=(0,a.up)("q-btn"),s=(0,a.up)("q-card-section"),u=(0,a.up)("q-card-actions"),c=(0,a.up)("q-card"),r=(0,a.up)("q-dialog"),m=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(l,{label:"delete",color:"primary",onClick:t[0]||(t[0]=e=>(0,o.dq)(n)?n.value=!0:n=!0)}),(0,a.Wm)(r,{modelValue:(0,o.SU)(n),"onUpdate:modelValue":t[1]||(t[1]=e=>(0,o.dq)(n)?n.value=e:n=e),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{style:{"min-width":"350px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(s,null,{default:(0,a.w5)((()=>[k])),_:1}),(0,a.Wm)(s,null,{default:(0,a.w5)((()=>[(0,a._)("div",null,(0,Q.zw)((0,o.SU)(i).name),1)])),_:1}),(0,a.Wm)(u,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(l,{flat:"",label:"Cancel"},null,512),[[m]]),(0,a.wy)((0,a.Wm)(l,{flat:"",label:"Delete",onClick:d},null,512),[[m]])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}}},H=V,x=H;b()(V,"components",{QBtn:v.Z,QDialog:I.Z,QCard:_.Z,QCardSection:D.Z,QCardActions:y.Z}),b()(V,"directives",{ClosePopup:f.Z});const A=e=>((0,a.dD)("data-v-6e71e124"),e=e(),(0,a.Cn)(),e),B=A((()=>(0,a._)("h2",null,"Gallery Manager",-1))),Y={class:"creator-section"},j={class:"gallery"},z=["src"],M={class:"delete-button"},N={emits:["loggingIn"],setup(e,{emit:t}){const l=(0,n.tv)(),d=()=>{null===localStorage.getItem("user")&&l.push("/notauthorized")};d();let u=(0,o.iH)({name:"",id:"",locations:{latitude:"",longitude:"",streetAddress1:"",streetAddress2:"",city:"",state:"",zip:""},phonenumber:"",hours:[{day:"",open:"",close:""}],website:"",googleMapsLink:"",googleMapsEmbed:"",thumbnail:{name:"",cloudID:""},productsServices:[{id:"",name:"",info:"",img:{name:"",cloudID:""},link:"",iconWhite:"",iconBlack:""}],events:[{id:"",start:"",end:"",title:"",content:"",class:"",img:{name:"",cloudID:""}}],gallery:[{name:"",cloudID:""}]});(0,o.iH)(1);const c=async()=>{const e=await s.Z.getStoreById(localStorage.getItem("user"));u.value=e.data};c();const r=e=>{u.value=e};return(e,t)=>((0,a.wg)(),(0,a.iD)(a.HY,null,[B,(0,a._)("section",Y,[(0,a.Wm)(q,{storeID:(0,o.SU)(u).id,onUpdatedStore:r},null,8,["storeID"])]),(0,a._)("section",j,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,o.SU)(u).gallery,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"image-container",key:e.id},[(0,a._)("img",{class:"image",src:(0,o.SU)(i.Z)(e.name,e.cloudID,200,300)},null,8,z),(0,a._)("div",M,[(0,a.Wm)(x,{image:e,storeID:(0,o.SU)(u).id,onUpdatedStore:r},null,8,["image","storeID"])])])))),128))])],64))}};var G=l(1639);const O=(0,G.Z)(N,[["__scopeId","data-v-6e71e124"]]),P=O}}]);